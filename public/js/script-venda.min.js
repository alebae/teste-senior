function hamburguerMenu(){var e=document.getElementById("menuTop");"topnav"===e.className?(e.className+=" responsive",document.getElementById("title-mobile").style.display="none"):(e.className="topnav",document.getElementById("title-mobile").style.display="block")}var bouncer=new Bouncer("[data-validate]",{messageAfterField:!0,messageCustom:"data-bouncer-message",messageTarget:"data-bouncer-target",messages:{missingValue:{default:"Informe o valor correto!"},fallback:"Erro!"}});function formataValor(e){return e+="",e=parseInt(e.replace(/[\D]+/g,"")),(e=(e+="").replace(/([0-9]{2})$/g,",$1")).length>6&&(e=e.replace(/([0-9]{3}),([0-9]{2}$)/g,".$1,$2")),"R$ "+e}$(document).ready(function(){$("input[name=codigo]").inputmask("integer"),$("input[name=preco]").inputmask("decimal",{alias:"numeric",groupSeparator:".",autoGroup:!0,digits:2,radixPoint:",",digitsOptional:!1,allowMinus:!1,prefix:"R$ ",placeholder:"0"}),$("input[name=codigo]").focusout(function(){$.post("verificador",{codigo:$("input[name=codigo]").val()},function(e){!0===e.achou&&(Swal.fire("Atenção!","Este código já existe! Utilize outro.","warning"),$("input[name=codigo]").val(""))})});const e=Swal.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1});$("#pesquisar").click(function(){$.post("produto/pesquisar",{produto:$("#produto").val()},function(e){!0===e.achou?($(".result-error").hide(),$(".txt-nome").html(e.descricao),$(".txt-codigo").html(e.codigo),$("#idProduto").val(e.id),$(".txt-valor").html(formataValor(e.preco)),$(".result-success").show()):($(".result-success").hide(),$(".result-error").show())})}),$("#adicionar").click(function(){e.fire({title:"Adicionar ao carrinho?",text:"Você tem certeza que deseja adicionar o produto ao carrinho?",icon:"warning",showCancelButton:!0,confirmButtonText:"Sim",cancelButtonText:"Não",reverseButtons:!0}).then(e=>{if(e.value){var o=$("#idProduto").val(),t=$("#idDocumento").val();$.post("adicionar",{produto:o,documento:t},function(e){!0===e.achou?($(".result-error").hide(),$(".result-success").hide(),$("#idDocumento").val(e.numero),$("#produto").val(""),$(".informe-adicionar").hide(),$("#confirmar").show(),html='<div class="card linha-produto">\n',html+='<div class="card-body">\n',html+='<h5 class="card-title">'+e.descricao+"</h5>\n",html+='<h6 class="card-subtitle mb-2 text-muted">Cód.: '+e.codigo+"</h6>\n",html+='<p class="card-text">'+formataValor(e.preco)+"</p>\n",html+="</div>\n",html+="</div>\n",$(".carrinho").append(html)):console.log("Exibir mensagem de erro.")})}})}),$("#cancelar").click(function(){e.fire({title:"Cancelar venda?",text:"Você tem certeza que deseja cancelar a venda?",icon:"warning",showCancelButton:!0,confirmButtonText:"Sim",cancelButtonText:"Não",reverseButtons:!0}).then(e=>{if(e.value){var o=$("#idDocumento").val();$.post("cancelar",{documento:o},function(e){!0===e.achou?document.location.reload(!0):console.log("Exibir mensagem de erro.")})}})}),$("#confirmar").click(function(){e.fire({title:"Confirmar a venda?",text:"Você tem certeza que deseja confirmar a venda?",icon:"warning",showCancelButton:!0,confirmButtonText:"Sim",cancelButtonText:"Não",reverseButtons:!0}).then(e=>{e.value&&$("#formConfirma").submit()})})});